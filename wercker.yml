box:
  id: node:6-wheezy
build:
  steps:
    - script:
      name: Install packages
      code: |
       if [ -f $WERCKER_CACHE_DIR/nm_cache.tar] ; then
          echo "Extracting tar"
          tar xf $WERCKER_CACHE_DIR/nm_cache.tar
       fi
       npm prune && npm install && tar cf $WERCKER_CACHE_DIR/nm_cache.tar node_modules
    - script:
      name: Install Global packages
      code: npm install -g eslint eslint-plugin-react eslint-plugin-babel babel-eslint gulp
    - script:
      name: Linter
      code: eslint src
    - script:
      name: +1 dump step of dumbness with keen
      code: npm rebuild node-sass
    - script:
      name: Build packages
      code: gulp build --production